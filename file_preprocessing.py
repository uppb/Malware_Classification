import setting
import pandas as pd
import os

parameters = setting.get_parameters()
dir = parameters["dataset_path"]
traindir = parameters["actual_data_path"]
labelfile = parameters["labelfile"]

#switch to truncated dataset
#labelfile = parameters["truncated_label_file"]



labels = dict(pd.read_csv(labelfile).values)

#Put files in their label group
if not(os.path.exists(traindir+"/1")):
    for i in range(9):
        os.makedirs(traindir + str(i + 1))
    for name, label in list(labels.items()):
        os.rename(traindir + name + ".bytes", traindir + "/" + str(label) + "/" + name + ".txt")

#delete address for every line in the file
for name, label in list(labels.items()):
    file_path = traindir + str(label) + "/"
    file_name = file_path + name + ".txt"
    f = open(file_name)
    lines = f.readlines()
    f.close()
    f = open(file_name,"w")
    for line in lines:
        f.write(line[9:])
    f.close()